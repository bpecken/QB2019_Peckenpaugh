install.packages("vegan")
#install.packages("vegan")
require("vegan")
rm(list=ls())
getwd()
setwd("~/GitHub/QB-2019/1.HandOuts/5.AlphaDiversity")
setwd("~/GitHub/QB2019_Peckenpaugh/1.HandOuts/5.AlphaDiversity")
getwd()
setwd("~/GitHub/QB2019_Peckenpaugh/2.Worksheets/5.AlphaDiversity")
data(BCI)
str(BCI, max.level = 0)
data <- data(BCI)
str(BCI, max.level = 0)
str(data, max.level = 0)
str(data)
str(data)
data(BCI)
str(BCI)
str(BCI, max.level = 0)
str(BCI, max.level = 0)
S.obs <- function(x = ""){
rowSums(x > 0) * 1
}
View(BCI)
S.obs(BCI[1])
specnumber(BCI[1])
site1 <- BCI[1]
S.obs(site1)
specnumber(BCI[1])
specnumber(site1)
View(site1)
site1 <- BCI[1, ]
View(site1)
S.obs(BCI[1, ])
specnumber(site1)
S.obs(BCI[1, ])
specnumber(BCI[1, ])
specnumber(BCI[2, ])
specnumber(BCI[3, ])
specnumber(BCI[4, ])
specnumber(BCI[1, ])
specnumber(BCI[2, ])
specnumber(BCI[3, ])
specnumber(BCI[4, ])
C <- function(x = ""){
1 - sum(x == 1) / rowsums(x))
C <- function(x = ""){
1 - (sum(x == 1) / rowsums(x))
}
C(BCI)
C(BCI[ , ])
C <- function(x = ""){
1 - (sum(x == 1) / rowSums(x))
}
C(BCI)
C(BCI)
C <- function(x = ""){
1 - (rowSums(x == 1) / rowSums(x))
}
C(BCI)
C <- function(x = ""){
1 - (rowSums(x == 0) / rowSums(x))
}
C(BCI)
C <- function(x = ""){
1 - (rowSums(x == 1) / rowSums(x))
}
C(BCI)
soilbac <- read.table("data/soilbac.txt", sep = "\t", header = TRUE, row.names = 1)
soilbac <- read.table("data/soilbac.txt", sep = "\t", header = TRUE, row.names = 1)
soilbac.t <- as.data.frame(t(soilbac))
soilbac1 <- soilbac.t[1,]
S.chao1 <- function(x = ""){
S.obs(x) + (sum(x == 1)^2) / (2 * sum(x == 2))
}
S.obs(soilbac1)
View(soilbac1)
C(soilbac1)
S.obs(soilbac1)
C(soilbac1)
rowSums(soilbac1)
S.obs(soilbac1)
C(soilbac1)
S.chao1 <- function(x = ""){
S.obs(x) + (sum(x == 1)^2) / (2 * sum(x == 2))
}
S.chao2 <- function(site = "", SbyS = ""){
SbyS = as.data.frame(SbyS)
x = SbyS[site, ]
SbyS.pa <- (SbyS > 0) * 1
Q1 = sum(colSums(SbyS.pa) == 1)
Q2 = sum(colSums(SbyS.pa) == 2)
S.chao2 = S.obs(x) + (Q1^2)/(2*Q2)
return(S.chao2)
}
